<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Capturando click do mouse</title>
</head>
<body>
  <canvas id="canvas" width="600" height="400"></canvas>




<script type="text/javascript">
  var tela = document.getElementById("canvas");
  var c = tela.getContext("2d");

  c.fillStyle = "grey";
  c.fillRect(0, 0, 600, 400);

  // tela.onclick = function (evento) {
  //   var x = evento.pageX  - tela.offsetLeft;
  //   var y = evento.pageY - tela.offsetTop;
  //
  //   c.fillStyle = "blue";
  //   c.beginPath();
  //   c.arc(x, y, 10, 0, Math.PI*2);
  //   c.fill();
  //   console.log("Click no x = "+ x +" e no y = "+ y);
  // }

  var desenhaCirculo = function (mouseEvent) {

    // Recebe a posição x e y dentro da pagina e subtrai o espaço da margem na esq e no topo de desenho co canvas
    var x = mouseEvent.pageX - tela.offsetLeft;
    var y = mouseEvent.pageY - tela.offsetTop;


    // Recebe o botão que foi clicado
    var botaoPresionado = mouseEvent.buttons;

    // Log com o retorno do valor do botão presionado
    console.log(botaoPresionado);

    // Verifica qual botão foi clicado e escolhe a opção
    if (botaoPresionado == 1) {
      // Desenha o circulo
      c.fillStyle = "green";
      c.beginPath();
      c.arc(x, y, 10, 0, Math.PI*2);
      c.fill();
    } else {
      // Desenha o circulo
      c.fillStyle = "red";
      c.beginPath();
      c.arc(x, y, 10, 0, Math.PI*2);
      c.fill();

    }

    // Log do pasição do click
    console.log("Click no x = "+x+" e no y = "+y);
  }
  // No evento onclick na tela do canvas chama a function para desenhar o circulo
  // tela.onclick = desenhaCirculo;


  // No evento onmousedown verifica qual botão do mouse foi clicado esquerdo 1 direito 2
  tela.onmousedown = desenhaCirculo;


</script>
</body>
</html>
